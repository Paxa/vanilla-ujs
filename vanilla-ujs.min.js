(function(a,b){!function(){var c={};return c.options={method:"GET",url:a.location.href,async:!0},c.ajax=function(a,c){"object"==typeof a&&(c=a,a=void 0),c=c||{},a=a||c.url||location.href||"";var d;d=new XMLHttpRequest,d.addEventListener("load",function(){var a=new CustomEvent("ajaxComplete",{detail:d});b.dispatchEvent(a)}),"function"==typeof c.success&&d.addEventListener("load",function(){d.status>=200&&d.status<300&&c.success(d)}),"function"==typeof c.error&&(d.addEventListener("load",function(){(d.status<200||d.status>=300)&&c.error(d)}),d.addEventListener("error",function(){c.error(d)})),d.open(c.method||"GET",a,c.async);var e=new CustomEvent("ajaxBeforeSend",{detail:d});return b.dispatchEvent(e),d.send(c.data),d},c}();b.addEventListener("click",function(a){var c,d,e,f;if(f=a.target,matches.call(f,"a[data-method]")){if(matches.call(f,"a[data-remote]"))return!0;if(e=f.getAttribute("data-method").toLowerCase(),"get"==e)return!0;c=b.createElement("form"),c.method="POST",c.action=f.getAttribute("href"),c.style.display="none","post"!=e&&(d=b.createElement("input"),d.setAttribute("type","hidden"),d.setAttribute("name","_method"),d.setAttribute("value",e),c.appendChild(d)),b.body.appendChild(c),c.submit(),a.preventDefault()}},!1),b.addEventListener("click",function(a){var b,c;if(c=a.target,matches.call(c,"a[data-confirm], button[data-confirm]")){if(b=c.getAttribute("data-confirm"),!confirm(b))return a.stopPropagation(),a.stopImmediatePropagation(),a.preventDefault(),!1}else;},!1);var c={token:function(){return b.querySelector('meta[name="csrf-token"]').getAttribute("content")},param:function(){return b.querySelector('meta[name="csrf-param"]').getAttribute("content")}},d=function(c){var d,e=b.create("a");return e.href=c,d=e.href.split("/",3).join("/"),0===a.location.href.indexOf(d)};a.CSRF=c,b.addEventListener("ajaxBeforeSend",function(a){var b=c.token(),d=a.detail;b&&d.setRequestHeader("X-CSRF-Token",b)}),b.addEventListener("submit",function(a){var e=c.token(),f=c.param(),g=a.target;if(matches.call(g,"form")){if(matches.call(g,"form[data-remote]"))return!0;if(!g.method||"GET"==g.method.toUpperCase())return!0;if(!d(g.action))return!0;if(f&&e&&!g.querySelector("input[name="+f+"]")){var h=b.createElement("input");h.setAttribute("type","hidden"),h.setAttribute("name",f),h.setAttribute("value",e),g.appendChild(h)}return!0}})}).call(null,window,document);
//# sourceMappingURL=vanilla-ujs.map.js