(function(a,b){var c=function(a){return a.matchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector}(b.documentElement),d=function(){var c=function(a,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var d=b.createEvent("CustomEvent");return d.initCustomEvent(a,c.bubbles,c.cancelable,c.detail),d};return c.prototype=a.CustomEvent.prototype,c}();a.CustomEvent=d;!function(){var c={};return c.options={method:"GET",url:a.location.href,async:!0},c.ajax=function(a,c){"object"==typeof a&&(c=a,a=void 0),c=c||{},a=a||c.url||location.href||"";var e;e=new XMLHttpRequest,e.addEventListener("load",function(){var a=new d("ajaxComplete",{detail:e});b.dispatchEvent(a)}),"function"==typeof c.success&&e.addEventListener("load",function(){e.status>=200&&e.status<300&&c.success(e)}),"function"==typeof c.error&&(e.addEventListener("load",function(){(e.status<200||e.status>=300)&&c.error(e)}),e.addEventListener("error",function(){c.error(e)})),e.open(c.method||"GET",a,c.async);var f=new d("ajax:before",{detail:e});return b.dispatchEvent(f),e.send(c.data),e},c}();b.addEventListener("click",function(a){var d,e,f,g;if(g=a.target,c.call(g,"a[data-method]")){if(c.call(g,"a[data-remote]"))return!0;if(f=g.getAttribute("data-method").toLowerCase(),"get"==f)return!0;d=b.createElement("form"),d.method="POST",d.action=g.getAttribute("href"),d.style.display="none","post"!=f&&(e=b.createElement("input"),e.setAttribute("type","hidden"),e.setAttribute("name","_method"),e.setAttribute("value",f),d.appendChild(e)),b.body.appendChild(d),d.submit(),a.preventDefault()}},!1),b.addEventListener("click",function(a){var b,d;if(d=a.target,c.call(d,"a[data-confirm], button[data-confirm]")){if(b=d.getAttribute("data-confirm"),!confirm(b))return a.stopPropagation(),a.stopImmediatePropagation(),a.preventDefault(),!1}else;},!1);var e={token:function(){return b.querySelector('meta[name="csrf-token"]').getAttribute("content")},param:function(){return b.querySelector('meta[name="csrf-param"]').getAttribute("content")}},f=function(c){var d,e=b.create("a");return e.href=c,d=e.href.split("/",3).join("/"),0===a.location.href.indexOf(d)};a.CSRF=e,b.addEventListener("ajax:before",function(a){var b=e.token(),c=a.detail;b&&c.setRequestHeader("X-CSRF-Token",b)}),b.addEventListener("submit",function(a){var d=e.token(),g=e.param(),h=a.target;if(c.call(h,"form")){if(c.call(h,"form[data-remote]"))return!0;if(!h.method||"GET"==h.method.toUpperCase())return!0;if(!f(h.action))return!0;if(g&&d&&!h.querySelector("input[name="+g+"]")){var i=b.createElement("input");i.setAttribute("type","hidden"),i.setAttribute("name",g),i.setAttribute("value",d),h.appendChild(i)}return!0}})}).call(null,window,document);
//# sourceMappingURL=vanilla-ujs.map.js